<!--
  ============================================================
  SQUARESPACE ROADMAP BLOCK
  ============================================================
  Paste this entire block into a Squarespace Code Block.

  TO UPDATE MILESTONES:
  Edit the "milestones" array in the <script> section below.
  Each milestone has:
    - title:       Milestone name
    - description: Short summary of what this milestone covers
    - status:      "completed" | "in-progress" | "upcoming"
    - date:        Target or completion date (e.g. "Q1 2025")
    - items:       Array of sub-items/deliverables (optional)
  ============================================================
-->

<style>
  /* ── Reset & Container ───────────────────────────────── */
  .ffn-roadmap *,
  .ffn-roadmap *::before,
  .ffn-roadmap *::after {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  .ffn-roadmap {
    --clr-completed: #16a34a;
    --clr-completed-bg: #f0fdf4;
    --clr-completed-border: #bbf7d0;
    --clr-progress: #2563eb;
    --clr-progress-bg: #eff6ff;
    --clr-progress-border: #bfdbfe;
    --clr-upcoming: #6b7280;
    --clr-upcoming-bg: #f9fafb;
    --clr-upcoming-border: #e5e7eb;
    --clr-track: #e5e7eb;
    --clr-text: #1f2937;
    --clr-text-muted: #6b7280;
    --clr-bg: #ffffff;
    --radius: 12px;
    --shadow: 0 1px 3px rgba(0,0,0,.08), 0 4px 12px rgba(0,0,0,.04);
    --shadow-hover: 0 4px 12px rgba(0,0,0,.12), 0 8px 24px rgba(0,0,0,.06);

    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    color: var(--clr-text);
    max-width: 1440px;
    margin: 0 auto;
    padding: 2rem 1rem;
  }

  /* ── Header ──────────────────────────────────────────── */
  .ffn-roadmap__header {
    text-align: center;
    margin-bottom: 2.5rem;
  }

  .ffn-roadmap__title {
    font-size: 2rem;
    font-weight: 700;
    letter-spacing: -0.02em;
    margin-bottom: .5rem;
  }

  .ffn-roadmap__subtitle {
    font-size: 1.05rem;
    color: var(--clr-text-muted);
    max-width: 600px;
    margin: 0 auto;
    line-height: 1.6;
  }

  /* ── Legend ───────────────────────────────────────────── */
  .ffn-roadmap__legend {
    display: flex;
    justify-content: center;
    gap: 1.5rem;
    margin-bottom: 2.5rem;
    flex-wrap: wrap;
  }

  .ffn-roadmap__legend-item {
    display: flex;
    align-items: center;
    gap: .45rem;
    font-size: .85rem;
    color: var(--clr-text-muted);
  }

  .ffn-roadmap__legend-dot {
    width: 10px;
    height: 10px;
    border-radius: 50%;
  }

  .ffn-roadmap__legend-dot--completed { background: var(--clr-completed); }
  .ffn-roadmap__legend-dot--in-progress { background: var(--clr-progress); }
  .ffn-roadmap__legend-dot--upcoming { background: var(--clr-upcoming); }

  /* ── Horizontal Timeline ─────────────────────────────── */
  .ffn-timeline {
    position: relative;
    margin-bottom: 3rem;
    overflow-x: auto;
    padding: 1rem 0 1.5rem;
    -webkit-overflow-scrolling: touch;
  }

  .ffn-timeline__track {
    display: flex;
    align-items: flex-start;
    position: relative;
    min-width: max-content;
    padding: 0 2rem;
  }

  .ffn-timeline__track::before {
    content: "";
    position: absolute;
    top: 20px;
    left: 2rem;
    right: 2rem;
    height: 3px;
    background: var(--clr-track);
    border-radius: 2px;
    z-index: 0;
  }

  .ffn-timeline__progress {
    position: absolute;
    top: 20px;
    left: 2rem;
    height: 3px;
    border-radius: 2px;
    z-index: 1;
    transition: width .8s ease;
    background: linear-gradient(90deg, var(--clr-completed), var(--clr-progress));
  }

  .ffn-timeline__node {
    display: flex;
    flex-direction: column;
    align-items: center;
    flex: 1;
    min-width: 140px;
    position: relative;
    z-index: 2;
    cursor: pointer;
    padding: 0 .5rem;
  }

  .ffn-timeline__dot {
    width: 18px;
    height: 18px;
    border-radius: 50%;
    border: 3px solid var(--clr-track);
    background: var(--clr-bg);
    margin-bottom: .6rem;
    transition: transform .25s ease, border-color .25s ease, box-shadow .25s ease;
    position: relative;
  }

  .ffn-timeline__dot::after {
    content: "";
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    background: currentColor;
    border-radius: 50%;
    transform: translate(-50%, -50%);
    transition: width .25s ease, height .25s ease;
  }

  .ffn-timeline__node--completed .ffn-timeline__dot {
    border-color: var(--clr-completed);
    background: var(--clr-completed);
    color: var(--clr-completed);
  }

  .ffn-timeline__node--completed .ffn-timeline__dot::after {
    width: 6px;
    height: 6px;
    background: #fff;
  }

  .ffn-timeline__node--in-progress .ffn-timeline__dot {
    border-color: var(--clr-progress);
    color: var(--clr-progress);
    box-shadow: 0 0 0 4px rgba(37, 99, 235, .18);
    animation: ffn-pulse 2s ease-in-out infinite;
  }

  .ffn-timeline__node--upcoming .ffn-timeline__dot {
    border-color: var(--clr-track);
    background: var(--clr-bg);
  }

  .ffn-timeline__node:hover .ffn-timeline__dot {
    transform: scale(1.3);
  }

  @keyframes ffn-pulse {
    0%, 100% { box-shadow: 0 0 0 4px rgba(37, 99, 235, .18); }
    50%      { box-shadow: 0 0 0 8px rgba(37, 99, 235, .08); }
  }

  .ffn-timeline__label {
    font-size: .8rem;
    font-weight: 600;
    text-align: center;
    max-width: 130px;
    line-height: 1.35;
  }

  .ffn-timeline__date {
    font-size: .72rem;
    color: var(--clr-text-muted);
    margin-top: .2rem;
  }

  /* ── Milestone Cards Grid ────────────────────────────── */
  .ffn-cards {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: 1.25rem;
  }

  .ffn-card {
    background: var(--clr-bg);
    border: 1px solid var(--clr-track);
    border-radius: var(--radius);
    padding: 1.5rem;
    box-shadow: var(--shadow);
    transition: box-shadow .25s ease, transform .25s ease, border-color .25s ease;
    cursor: default;
  }

  .ffn-card:hover {
    box-shadow: var(--shadow-hover);
    transform: translateY(-2px);
  }

  .ffn-card--completed { border-left: 4px solid var(--clr-completed); }
  .ffn-card--in-progress { border-left: 4px solid var(--clr-progress); }
  .ffn-card--upcoming { border-left: 4px solid var(--clr-upcoming); }

  .ffn-card__top {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: .75rem;
    gap: .75rem;
  }

  .ffn-card__title {
    font-size: 1.1rem;
    font-weight: 700;
    line-height: 1.3;
  }

  .ffn-card__badge {
    display: inline-flex;
    align-items: center;
    gap: .3rem;
    font-size: .7rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: .04em;
    padding: .25rem .6rem;
    border-radius: 999px;
    white-space: nowrap;
    flex-shrink: 0;
  }

  .ffn-card__badge--completed {
    background: var(--clr-completed-bg);
    color: var(--clr-completed);
    border: 1px solid var(--clr-completed-border);
  }

  .ffn-card__badge--in-progress {
    background: var(--clr-progress-bg);
    color: var(--clr-progress);
    border: 1px solid var(--clr-progress-border);
  }

  .ffn-card__badge--upcoming {
    background: var(--clr-upcoming-bg);
    color: var(--clr-upcoming);
    border: 1px solid var(--clr-upcoming-border);
  }

  .ffn-card__badge-icon {
    font-size: .75rem;
    line-height: 1;
  }

  .ffn-card__date {
    font-size: .78rem;
    color: var(--clr-text-muted);
    margin-bottom: .6rem;
  }

  .ffn-card__desc {
    font-size: .92rem;
    color: var(--clr-text-muted);
    line-height: 1.6;
    margin-bottom: .75rem;
  }

  .ffn-card__items {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .ffn-card__item {
    display: flex;
    align-items: flex-start;
    gap: .45rem;
    font-size: .85rem;
    color: var(--clr-text);
    padding: .3rem 0;
    line-height: 1.45;
  }

  .ffn-card__item-icon {
    flex-shrink: 0;
    margin-top: 2px;
    font-size: .8rem;
    line-height: 1;
  }

  .ffn-card--completed .ffn-card__item-icon { color: var(--clr-completed); }
  .ffn-card--in-progress .ffn-card__item-icon { color: var(--clr-progress); }
  .ffn-card--upcoming .ffn-card__item-icon { color: var(--clr-upcoming); }

  /* ── Progress Bar ────────────────────────────────────── */
  .ffn-roadmap__progress {
    margin-top: 2.5rem;
    text-align: center;
  }

  .ffn-roadmap__progress-label {
    font-size: .85rem;
    color: var(--clr-text-muted);
    margin-bottom: .5rem;
  }

  .ffn-roadmap__progress-bar {
    width: 100%;
    max-width: 400px;
    height: 8px;
    background: var(--clr-track);
    border-radius: 999px;
    margin: 0 auto;
    overflow: hidden;
  }

  .ffn-roadmap__progress-fill {
    height: 100%;
    border-radius: 999px;
    background: linear-gradient(90deg, var(--clr-completed), var(--clr-progress));
    transition: width 1s ease;
  }

  /* ── Responsive ──────────────────────────────────────── */
  @media (max-width: 640px) {
    .ffn-roadmap__title { font-size: 1.5rem; }
    .ffn-cards { grid-template-columns: 1fr; }
    .ffn-timeline__node { min-width: 110px; }
  }

  /* ── Scroll hint for timeline ────────────────────────── */
  .ffn-timeline::after {
    content: "";
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    width: 40px;
    background: linear-gradient(90deg, transparent, var(--clr-bg));
    pointer-events: none;
    opacity: 0;
    transition: opacity .3s;
  }

  .ffn-timeline--scrollable::after {
    opacity: 1;
  }
</style>

<div class="ffn-roadmap" id="ffn-roadmap">
  <!-- Rendered by JavaScript below -->
</div>

<script>
(function () {
  // ════════════════════════════════════════════════════════
  //  MILESTONE DATA — EDIT THIS SECTION TO UPDATE ROADMAP
  // ════════════════════════════════════════════════════════
  //
  //  status options:  "completed"  |  "in-progress"  |  "upcoming"
  //
  const CONFIG = {
    title: "Our Roadmap",
    subtitle: "Follow our journey as we build toward our vision — one milestone at a time.",
    milestones: [
      {
        title: "Foundation",
        date: "Q1 2025",
        status: "completed",
        description: "Establish the core team, define mission and values, and lay the organizational groundwork.",
        items: [
          "Assemble founding team",
          "Define mission statement",
          "Secure initial funding",
          "Set up legal structure"
        ]
      },
      {
        title: "Community Building",
        date: "Q2 2025",
        status: "completed",
        description: "Build relationships with key stakeholders and grow our community presence.",
        items: [
          "Launch website and social channels",
          "Host first community event",
          "Establish partner network",
          "Reach 500 community members"
        ]
      },
      {
        title: "Program Launch",
        date: "Q3 2025",
        status: "in-progress",
        description: "Roll out our flagship programs and begin delivering impact to our community.",
        items: [
          "Design program curriculum",
          "Recruit first cohort",
          "Launch mentorship initiative",
          "Collect baseline metrics"
        ]
      },
      {
        title: "Scale & Impact",
        date: "Q1 2026",
        status: "upcoming",
        description: "Expand our reach and measure the impact of our initiatives across the community.",
        items: [
          "Expand to 3 new regions",
          "Publish impact report",
          "Launch annual fundraiser",
          "Grow team to 15 members"
        ]
      },
      {
        title: "Sustainability",
        date: "Q3 2026",
        status: "upcoming",
        description: "Build long-term sustainability through diversified funding and strong governance.",
        items: [
          "Diversify revenue streams",
          "Establish advisory board",
          "Create endowment fund",
          "Develop 5-year strategic plan"
        ]
      }
    ]
  };
  // ════════════════════════════════════════════════════════
  //  END OF EDITABLE SECTION
  // ════════════════════════════════════════════════════════

  const STATUS_META = {
    "completed":   { label: "Completed",   icon: "&#10003;", badgeClass: "completed" },
    "in-progress": { label: "In Progress", icon: "&#9679;",  badgeClass: "in-progress" },
    "upcoming":    { label: "Upcoming",     icon: "&#9675;",  badgeClass: "upcoming" }
  };

  function itemIcon(status) {
    if (status === "completed") return "&#10003;";
    if (status === "in-progress") return "&#9656;";
    return "&#9675;";
  }

  function render() {
    var root = document.getElementById("ffn-roadmap");
    var ms = CONFIG.milestones;
    var completedCount = ms.filter(function (m) { return m.status === "completed"; }).length;
    var inProgressCount = ms.filter(function (m) { return m.status === "in-progress"; }).length;
    var progressPct = Math.round(((completedCount + inProgressCount * 0.5) / ms.length) * 100);

    // Calculate timeline progress width
    var lastActiveIdx = -1;
    ms.forEach(function (m, i) {
      if (m.status === "completed") lastActiveIdx = i;
      else if (m.status === "in-progress" && i > lastActiveIdx) lastActiveIdx = i;
    });
    var timelineWidth = ms.length > 1 ? ((lastActiveIdx) / (ms.length - 1)) * 100 : 0;
    // Adjust for in-progress (show half-way to next)
    var lastCompleted = -1;
    ms.forEach(function (m, i) { if (m.status === "completed") lastCompleted = i; });
    if (inProgressCount > 0 && ms.length > 1) {
      var ipIdx = ms.findIndex(function (m) { return m.status === "in-progress"; });
      timelineWidth = ((lastCompleted + 0.5 + (ipIdx - lastCompleted) * 0.5) / (ms.length - 1)) * 100;
    } else if (lastCompleted >= 0 && ms.length > 1) {
      timelineWidth = (lastCompleted / (ms.length - 1)) * 100;
    }

    var html = "";

    // Header
    html += '<div class="ffn-roadmap__header">';
    html += '<h2 class="ffn-roadmap__title">' + CONFIG.title + '</h2>';
    if (CONFIG.subtitle) html += '<p class="ffn-roadmap__subtitle">' + CONFIG.subtitle + '</p>';
    html += '</div>';

    // Legend
    html += '<div class="ffn-roadmap__legend">';
    html += '<div class="ffn-roadmap__legend-item"><span class="ffn-roadmap__legend-dot ffn-roadmap__legend-dot--completed"></span>Completed</div>';
    html += '<div class="ffn-roadmap__legend-item"><span class="ffn-roadmap__legend-dot ffn-roadmap__legend-dot--in-progress"></span>In Progress</div>';
    html += '<div class="ffn-roadmap__legend-item"><span class="ffn-roadmap__legend-dot ffn-roadmap__legend-dot--upcoming"></span>Upcoming</div>';
    html += '</div>';

    // Timeline
    html += '<div class="ffn-timeline" id="ffn-timeline">';
    html += '<div class="ffn-timeline__track">';
    html += '<div class="ffn-timeline__progress" style="width:' + timelineWidth + '%"></div>';
    ms.forEach(function (m, i) {
      html += '<div class="ffn-timeline__node ffn-timeline__node--' + m.status + '" data-index="' + i + '">';
      html += '<div class="ffn-timeline__dot"></div>';
      html += '<span class="ffn-timeline__label">' + m.title + '</span>';
      html += '<span class="ffn-timeline__date">' + m.date + '</span>';
      html += '</div>';
    });
    html += '</div></div>';

    // Cards
    html += '<div class="ffn-cards">';
    ms.forEach(function (m) {
      var meta = STATUS_META[m.status];
      html += '<div class="ffn-card ffn-card--' + m.status + '">';

      html += '<div class="ffn-card__top">';
      html += '<span class="ffn-card__title">' + m.title + '</span>';
      html += '<span class="ffn-card__badge ffn-card__badge--' + meta.badgeClass + '">';
      html += '<span class="ffn-card__badge-icon">' + meta.icon + '</span>' + meta.label;
      html += '</span>';
      html += '</div>';

      html += '<div class="ffn-card__date">' + m.date + '</div>';
      html += '<p class="ffn-card__desc">' + m.description + '</p>';

      if (m.items && m.items.length) {
        html += '<ul class="ffn-card__items">';
        m.items.forEach(function (item) {
          html += '<li class="ffn-card__item">';
          html += '<span class="ffn-card__item-icon">' + itemIcon(m.status) + '</span>';
          html += '<span>' + item + '</span>';
          html += '</li>';
        });
        html += '</ul>';
      }

      html += '</div>';
    });
    html += '</div>';

    // Overall progress
    html += '<div class="ffn-roadmap__progress">';
    html += '<div class="ffn-roadmap__progress-label">' + completedCount + ' of ' + ms.length + ' milestones completed &middot; ' + progressPct + '% overall progress</div>';
    html += '<div class="ffn-roadmap__progress-bar"><div class="ffn-roadmap__progress-fill" style="width:' + progressPct + '%"></div></div>';
    html += '</div>';

    root.innerHTML = html;

    // Check if timeline needs scroll hint
    var timeline = document.getElementById("ffn-timeline");
    if (timeline && timeline.scrollWidth > timeline.clientWidth) {
      timeline.classList.add("ffn-timeline--scrollable");
      timeline.addEventListener("scroll", function () {
        if (timeline.scrollLeft + timeline.clientWidth >= timeline.scrollWidth - 10) {
          timeline.classList.remove("ffn-timeline--scrollable");
        } else {
          timeline.classList.add("ffn-timeline--scrollable");
        }
      });
    }

    // Timeline node click — scroll card into view
    var nodes = root.querySelectorAll(".ffn-timeline__node");
    var cards = root.querySelectorAll(".ffn-card");
    nodes.forEach(function (node, idx) {
      node.addEventListener("click", function () {
        if (cards[idx]) {
          cards[idx].scrollIntoView({ behavior: "smooth", block: "center" });
          cards[idx].style.boxShadow = "0 0 0 3px rgba(37,99,235,.3), " + getComputedStyle(cards[idx]).boxShadow;
          setTimeout(function () { cards[idx].style.boxShadow = ""; }, 1500);
        }
      });
    });
  }

  // Render when DOM is ready
  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", render);
  } else {
    render();
  }
})();
</script>
